<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Suivi des humeurs</title>
<style>
body { font-family: Arial, sans-serif; background: #f2f2f2; text-align: center; padding: 16px; }
/* Visages */
.faces {
  display: flex;
  justify-content: center;   /* centre horizontalement */
  align-items: center;       /* centre verticalement si besoin */
  flex-wrap: wrap;           /* passe à la ligne si trop large */
  gap: 24px;                 /* espace entre les visages */
  margin: 24px 0;
}
@media (max-width: 768px) {
  .face {
    width: 40vw;       /* largeur relative à l’écran */
    max-width: 160px;  /* limite desktop */
    min-width: 100px;  /* lisible sur mobile */
  }
}
@media (max-width: 768px) {
  .faces {
    gap: 16px;
  }
}

.face {
  width: 28vw;          /* x2 de 28vw */
  max-width: 240px;     /* x2 de 180px */
  min-width: 90px;     /* x2 de 90px */
  padding: 10px;
  cursor: pointer;
  transition: transform 0.2s;
}

.face:hover {
  transform: scale(1.05);
}
  .face {
  padding: 10px;
}
.face:active {
  transform: scale(0.95);
}

table { margin: 30px auto; border-collapse: collapse; width: 70%; background: white; }
th, td { border: 1px solid #ccc; padding: 10px; }
th { background: #eee; }
button { margin: 20px; padding: 10px 20px; font-size: 16px; cursor: pointer; }
  .chart {
  width: 1800px;
  height: 1113px;
  margin: 40px auto;   /* centre le graphique */
  display: block;
}
  @media (max-width: 768px) {

  h1 {
    font-size: 22px;
  }

  .faces {
    gap: 16px;
  }


iframe {
    width: 100% !important;
    height: 420px !important;
}

}
.checklist {
  max-width: 900px;
  margin: 50px auto 30px;
  padding: 24px;
  background: #ffffff;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  text-align: left;
}

.checklist h2 {
  text-align: center;
  margin-bottom: 24px;
}

.checklist label {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 18px;
  font-size: 16px;
  line-height: 1.4;
  cursor: pointer;
}

.checklist input[type="checkbox"] {
  transform: scale(1.3);
  margin-top: 3px;
  cursor: pointer;
}

  .checklist .one-line {
  white-space: nowrap;
}

  .checklist label {
  font-size: 15px;
}
@media (max-width: 768px) {
  .checklist label {
    font-size: 14px;
  }
}


</style>
</head>
<body>

<h1>Que penses-tu de ce prospect?</h1>

<div class="faces">
  <!-- VISAGE SOURIRE -->  
  <svg class="face" viewBox="0 0 100 100" onclick="logClick('souriant')">
      <circle cx="50" cy="50" r="45" fill="#34a853"/>
      <circle cx="35" cy="40" r="5"/>
      <circle cx="65" cy="40" r="5"/>
      <path d="M30 55 Q50 75 70 55" stroke="#000" stroke-width="4" fill="none"/>
  </svg>

  <!-- VISAGE NEUTRE -->
  <svg class="face" viewBox="0 0 100 100" onclick="logClick('neutre')">
      <circle cx="50" cy="50" r="45" fill="#ff9900"/>
      <circle cx="35" cy="40" r="5"/>
      <circle cx="65" cy="40" r="5"/>
      <line x1="30" y1="65" x2="70" y2="65" stroke="#000" stroke-width="4"/>
  </svg>

  <!-- VISAGE TRISTE -->
  <svg class="face" viewBox="0 0 100 100" onclick="logClick('triste')">
      <circle cx="50" cy="50" r="45" fill="#00ffff"/>
      <circle cx="35" cy="40" r="5"/>
      <circle cx="65" cy="40" r="5"/>
      <path d="M30 70 Q50 50 70 70" stroke="#000" stroke-width="4" fill="none"/>
  </svg>
</div>

<script>
/* ---- Mettez ici l’URL de votre déploiement doGet ---- */
const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwYqxZN8jAzVZP4CIvi6v1HSdEGcmGGl0GbJxIDiaz6WZK05DzF2U2rY3xHWEaEEVhaSQ/exec";

/* Fonction pour enregistrer un clic */
function logClick(humeur) {
    const timestamp = Date.now();
    const url = `${GOOGLE_SCRIPT_URL}?humeur=${encodeURIComponent(humeur)}&timestamp=${timestamp}`;

    fetch(url)
        .then(res => res.text())
        .then(res => console.log("Réponse Apps Script :", res))
        .catch(err => console.error("Erreur :", err));

    // Stockage local pour stats et historique
    const data = JSON.parse(localStorage.getItem("clicks") || "[]");
    data.push({ humeur, timestamp });
    localStorage.setItem("clicks", JSON.stringify(data));

    render();
}

/* Formate la date pour affichage */
function formatDate(ts) {
    return new Date(ts).toLocaleString("fr-FR");
}

/* Affiche les stats et l’historique */
function render() {
    const data = JSON.parse(localStorage.getItem("clicks") || "[]");

}

/* Initialisation */
render();
</script>

<iframe width="915" height="566" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vSagr0JCW-aoCznIQda1J7eHwy1Ah2_ezRL9LDzBpbH_-VH-wumVudn46Nmcx3MvgAlqnRp8wZpruuR/pubchart?oid=21546411&amp;format=interactive"></iframe>

  <!-- CHECKLIST PROSPECTION -->
<div class="checklist">
  <h2>Checklist avant prospection</h2>
<label>
  <input type="checkbox" data-id="flyers_mega">
  Flyers <strong>MEGA CONVAINCANTS</strong> (design) créés ou améliorés,
  à présenter à 100 entreprises du même secteur
</label>

<label>
  <input type="checkbox" data-id="equipement_propre">
  Équipement propre et lavé (intérieur & extérieur)
</label>

<label>
  <input type="checkbox" data-id="tenue_prospection">
  Chaussures de sortie / sport et veste / costume beige propres,
  prêts pour aller prospecter
</label>

<label>
  <input type="checkbox" data-id="materiel_notes">
  Lunettes, cahiers de notes et stylos prêts
</label>

<label>
  <input type="checkbox" data-id="tshirt_pub_xxl">
  T-shirt XXL de pub prêt ?
</label>

<label>
  <input type="checkbox" data-id="presentoir_xxxl">
  Présentoir mobile XXXL 3m × 3m amovible et extensible prêt ?
</label>

<label>
  <input type="checkbox" data-id="papier_pub_3x3">
  Papier publicitaire 3m × 3m prêt ?
</label>

<label>
  <input type="checkbox" data-id="zone_identifiee">
  Ai-je identifié un lieu avec une forte concentration d’entreprises au m² ?
</label>

  
</div>

  <script>
/* ---- Mettez ici l’URL de votre déploiement doGet ---- */
const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwYqxZN8jAzVZP4CIvi6v1HSdEGcmGGl0GbJxIDiaz6WZK05DzF2U2rY3xHWEaEEVhaSQ/exec";

/* Fonction pour enregistrer un clic sur un visage */
function logClick(humeur) {
    const timestamp = Date.now();
    const url = `${GOOGLE_SCRIPT_URL}?humeur=${encodeURIComponent(humeur)}&timestamp=${timestamp}`;

    fetch(url)
        .then(res => res.text())
        .then(res => console.log("Réponse Apps Script :", res))
        .catch(err => console.error("Erreur :", err));

    // Stockage local pour historique
    const data = JSON.parse(localStorage.getItem("clicks") || "[]");
    data.push({ humeur, timestamp });
    localStorage.setItem("clicks", JSON.stringify(data));

    render();
}

/* Formate la date pour affichage */
function formatDate(ts) {
    return new Date(ts).toLocaleString("fr-FR");
}

/* Affiche l’historique (et éventuellement stats si tu ajoutes plus tard) */
function render() {
    const data = JSON.parse(localStorage.getItem("clicks") || "[]");

    // Historique trié par date décroissante
    const sortedHistory = [...data].sort((a,b) => b.timestamp - a.timestamp);

    // Si tu veux l'afficher dans un tableau #history, tu peux décommenter :
    /*
    document.getElementById("history").innerHTML = sortedHistory
        .map(d => `<tr><td>${d.humeur}</td><td>${formatDate(d.timestamp)}</td></tr>`)
        .join("");
    */
}

/* Initialisation */
render();

/* ---- CHECKLIST PROSPECTION ---- */
const CHECKLIST_URL = "TON_URL_APPS_SCRIPT_ICI";

// Sauvegarde de la checklist
document.querySelectorAll('.checklist input[type="checkbox"]').forEach(cb => {
  cb.addEventListener("change", () => {
    fetch(`${CHECKLIST_URL}?action=save&id=${cb.dataset.id}&checked=${cb.checked}`);
  });
});

// Chargement de la checklist
fetch(`${CHECKLIST_URL}?action=load`)
  .then(res => res.json())
  .then(data => {
    document.querySelectorAll('.checklist input[type="checkbox"]').forEach(cb => {
      if (data[cb.dataset.id] !== undefined) {
        cb.checked = data[cb.dataset.id];
      }
    });
  });
</script>

</body>


</html>





































