<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Suivi des humeurs</title>
<style>
body { font-family: Arial, sans-serif; background: #f2f2f2; text-align: center; padding: 16px; }
/* Visages */
.faces {
  display: flex;
  justify-content: center;   /* centre horizontalement */
  align-items: center;       /* centre verticalement si besoin */
  flex-wrap: wrap;           /* passe à la ligne si trop large */
  gap: 24px;                 /* espace entre les visages */
  margin: 24px 0;
}
@media (max-width: 768px) {
  .face {
    width: 40vw;       /* largeur relative à l’écran */
    max-width: 160px;  /* limite desktop */
    min-width: 100px;  /* lisible sur mobile */
  }
}
@media (max-width: 768px) {
  .faces {
    gap: 16px;
  }
}

.face {
  width: 28vw;          /* x2 de 28vw */
  max-width: 240px;     /* x2 de 180px */
  min-width: 90px;     /* x2 de 90px */
  padding: 10px;
  cursor: pointer;
  transition: transform 0.2s;
}

.face:hover {
  transform: scale(1.05);
}
  .face {
  padding: 10px;
}
.face:active {
  transform: scale(0.95);
}

table { margin: 30px auto; border-collapse: collapse; width: 70%; background: white; }
th, td { border: 1px solid #ccc; padding: 10px; }
th { background: #eee; }
button { margin: 20px; padding: 10px 20px; font-size: 16px; cursor: pointer; }
  .chart {
  width: 1800px;
  height: 1113px;
  margin: 40px auto;   /* centre le graphique */
  display: block;
}
  @media (max-width: 768px) {

  h1 {
    font-size: 22px;
  }

  .faces {
    gap: 16px;
  }


iframe {
    width: 100% !important;
    height: 420px !important;
}

}

</style>
</head>
<body>

<h1>Que penses-tu de ce prospect?</h1>

<div class="faces">
  <!-- VISAGE SOURIRE -->  
  <svg class="face" viewBox="0 0 100 100" onclick="logClick('souriant')">
      <circle cx="50" cy="50" r="45" fill="#4CAF50"/>
      <circle cx="35" cy="40" r="5"/>
      <circle cx="65" cy="40" r="5"/>
      <path d="M30 55 Q50 75 70 55" stroke="#000" stroke-width="4" fill="none"/>
  </svg>

  <!-- VISAGE NEUTRE -->
  <svg class="face" viewBox="0 0 100 100" onclick="logClick('neutre')">
      <circle cx="50" cy="50" r="45" fill="#FF9800"/>
      <circle cx="35" cy="40" r="5"/>
      <circle cx="65" cy="40" r="5"/>
      <line x1="30" y1="65" x2="70" y2="65" stroke="#000" stroke-width="4"/>
  </svg>

  <!-- VISAGE TRISTE -->
  <svg class="face" viewBox="0 0 100 100" onclick="logClick('triste')">
      <circle cx="50" cy="50" r="45" fill="#00ffff"/>
      <circle cx="35" cy="40" r="5"/>
      <circle cx="65" cy="40" r="5"/>
      <path d="M30 70 Q50 50 70 70" stroke="#000" stroke-width="4" fill="none"/>
  </svg>
</div>

<script>
/* ---- Mettez ici l’URL de votre déploiement doGet ---- */
const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwYqxZN8jAzVZP4CIvi6v1HSdEGcmGGl0GbJxIDiaz6WZK05DzF2U2rY3xHWEaEEVhaSQ/exec";

/* Fonction pour enregistrer un clic */
function logClick(humeur) {
    const timestamp = Date.now();
    const url = `${GOOGLE_SCRIPT_URL}?humeur=${encodeURIComponent(humeur)}&timestamp=${timestamp}`;

    fetch(url)
        .then(res => res.text())
        .then(res => console.log("Réponse Apps Script :", res))
        .catch(err => console.error("Erreur :", err));

    // Stockage local pour stats et historique
    const data = JSON.parse(localStorage.getItem("clicks") || "[]");
    data.push({ humeur, timestamp });
    localStorage.setItem("clicks", JSON.stringify(data));

    render();
}

/* Formate la date pour affichage */
function formatDate(ts) {
    return new Date(ts).toLocaleString("fr-FR");
}

/* Affiche les stats et l’historique */
function render() {
    const data = JSON.parse(localStorage.getItem("clicks") || "[]");

}

/* Initialisation */
render();
</script>

<iframe width="915" height="566" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vSagr0JCW-aoCznIQda1J7eHwy1Ah2_ezRL9LDzBpbH_-VH-wumVudn46Nmcx3MvgAlqnRp8wZpruuR/pubchart?oid=21546411&amp;format=interactive"></iframe>
</html>


























